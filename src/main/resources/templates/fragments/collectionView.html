<div th:fragment="page_wraper">
     <div class="row">
        <div class="col-9">
            <div class="h3 text-secondary ms-3">
                <i class="bi bi-grid-3x2-gap-fill"></i>
                <span th:text="#{collection.view.elements.found}"></span>:
                <span th:text="${numberOfElements}"></span>
            </div>
        </div>
        <div class="col-3" sec:authorize="hasAnyAuthority('ROLE_ADMIN')" th:insert="fragments/admin :: add_table"></div>
    </div>
    <div th:if="${numberOfElements>0}" th:insert="fragments/general :: pagination"></div>
    <div th:if="${numberOfElements>0}" th:insert="fragments/collectionView :: collection_view"></div>
    <div th:if="${numberOfElements>0}" th:insert="fragments/general :: pagination"></div>
</div>
<div th:fragment="collection_view">
    <div th:each="exchangeRates : ${pageContent}">
        <div th:insert="fragments/collectionView :: element_view"></div>
    </div>
</div>
<div th:fragment="element_view" class="m-3 p-3 border border-2 border-secondary rounded-3">
    <div class="d-flex justify-content-between align-items-center p-3">
        <h3 th:text="${exchangeRates.getNo()}" class="font-weight-bold"></h3>
        <div>
            <span th:text="#{collection.view.effective.date}"></span>: <span class="font-weight-bold" th:text="${exchangeRates.getEffectiveDate()}"></span><br/>
            <span th:text="#{collection.view.trading.date}"></span>: <span class="font-weight-bold" th:text="${exchangeRates.getTradingDate()}"></span>
        </div>
        <div sec:authorize="hasAnyAuthority('ROLE_ADMIN')" th:insert="fragments/admin :: edit_table"></div>
    </div>
    <table class="table table-striped table-sm">
        <thead>
        <tr>
            <th scope="col" th:text="#{collection.view.code}"></th>
            <th scope="col" th:text="#{collection.view.currency.name}"></th>
            <th scope="col" th:text="#{collection.view.bid}"></th>
            <th scope="col" th:text="#{collection.view.ask}"></th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="rate : ${exchangeRates.getRates()}">
            <th scope="row" th:text="${rate.code}"></th>
            <td th:text="#{'currency.'+${rate.code}}"></td>
            <td th:text="${rate.bid}"></td>
            <td th:text="${rate.ask}"></td>
            <td class="text-end">
                <button class="btn btn-primary text-light d-inline mx-1"><i class="bi bi-eye"></i></button>
                <div sec:authorize="hasAnyAuthority('ROLE_ADMIN')" th:replace="fragments/admin :: edit_currency"></div>
            </td>
        </tr>
        </tbody>
    </table>
    <div sec:authorize="hasAnyAuthority('ROLE_ADMIN')" th:insert="fragments/admin :: add_currency"></div>
</div>